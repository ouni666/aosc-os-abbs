From 286495221a86ca39a3adcee67201921a0cae95f9 Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Tue, 25 Feb 2025 12:09:06 +0100
Subject: [PATCH 2/2] FROMLIST: sysdep: coalesce ppc64(be) into generic

Link: https://gitea.wildfiregames.com/0ad/0ad/pulls/7663
Signed-off-by: Mingcong Bai <jeffbai@aosc.io>
---
 build/premake/premake5.lua             |  2 --
 source/lib/sysdep/arch/ppc64/ppc64.cpp | 35 --------------------------
 2 files changed, 37 deletions(-)
 delete mode 100644 source/lib/sysdep/arch/ppc64/ppc64.cpp

diff --git a/build/premake/premake5.lua b/build/premake/premake5.lua
index 7fa317110f..dbc4183855 100644
--- a/build/premake/premake5.lua
+++ b/build/premake/premake5.lua
@@ -114,8 +114,6 @@ else
 		arch = "aarch64"
 	elseif string.find(machine, "e2k") == 1 then
 		arch = "e2k"
-	elseif string.find(machine, "ppc64") == 1 or string.find(machine, "powerpc64") == 1 then
-		arch = "ppc64"
 	else
 		arch = "generic"
 	end
diff --git a/source/lib/sysdep/arch/ppc64/ppc64.cpp b/source/lib/sysdep/arch/ppc64/ppc64.cpp
deleted file mode 100644
index 2273c6df5f..0000000000
--- a/source/lib/sysdep/arch/ppc64/ppc64.cpp
+++ /dev/null
@@ -1,35 +0,0 @@
-/* Copyright (C) 2024 Wildfire Games.
- *
- * Permission is hereby granted, free of charge, to any person obtaining
- * a copy of this software and associated documentation files (the
- * "Software"), to deal in the Software without restriction, including
- * without limitation the rights to use, copy, modify, merge, publish,
- * distribute, sublicense, and/or sell copies of the Software, and to
- * permit persons to whom the Software is furnished to do so, subject to
- * the following conditions:
- *
- * The above copyright notice and this permission notice shall be included
- * in all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
- * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
- * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
- * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
- * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
- * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
- */
-
-/*
- * routines specific to PowerPC64
- */
-
-#include "precompiled.h"
-
-#include "lib/sysdep/cpu.h"
-
-const char* cpu_IdentifierString()
-{
-	// TODO
-	return "IBM POWER";
-}
-- 
2.51.0
