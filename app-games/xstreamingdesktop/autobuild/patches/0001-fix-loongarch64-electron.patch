From 70bb4f842f4d8ef8cefe30c53c65bcb2141ac94d Mon Sep 17 00:00:00 2001
From: ouni666 <fangwenbin@vip.qq.com>
Date: Sun, 6 Jul 2025 20:41:31 +0800
Subject: [PATCH] fix loongarch64 electron

---
 electron-builder.yml | 39 ---------------------------------------
 package.json         |  6 ++++--
 2 files changed, 4 insertions(+), 41 deletions(-)

diff --git a/electron-builder.yml b/electron-builder.yml
index af9871d..e488b07 100644
--- a/electron-builder.yml
+++ b/electron-builder.yml
@@ -13,42 +13,3 @@ files:
       - app
 publish:
 - github
-
-
-# Mac OS configuration
-mac:
-  category: public.app-category.games
-  # icon: "src/app/assets/images/icon.icns"
-  target: 
-  - target: dmg
-    arch: 
-    - universal
-
-# Config for OSX dmg
-dmg:
-  contents:
-    - x: 130
-      y: 220
-    - x: 410
-      y: 220
-      type: "link"
-      path: "/Applications"
-
-# Windows configuration
-win:
-  # icon: "src/app/assets/images/icon.ico"
-  target:
-    - "zip"
-    - "nsis"
-
-# Config for the windows installer
-nsis:
-  oneClick: true
-  perMachine: true
-
-# Linux configuration
-linux:
-  category: Game
-  target:
-    - "AppImage"
-    - "deb"
\ No newline at end of file
diff --git a/package.json b/package.json
index 51335bf..c80e1f5 100644
--- a/package.json
+++ b/package.json
@@ -52,8 +52,10 @@
     "@typescript-eslint/parser": "^8.6.0",
     "autoprefixer": "^10.4.20",
     "babel-loader": "^9.1.3",
-    "electron": "33",
-    "electron-builder": "^24.13.3",
+    "electron": "35.4.0",
+    "@darkyzhou-powered/app-builder-lib": "^25.1.8",
+    "@darkyzhou-powered/builder-util": "^25.1.7",
+    "@darkyzhou-powered/electron-builder": "^25.1.8",
     "eslint": "^8.57.0",
     "eslint-plugin-react-hooks": "^4.6.2",
     "eslint-plugin-react-refresh": "^0.4.12",
-- 
2.50.0

