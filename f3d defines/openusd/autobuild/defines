PKGNAME=openusd
PKGSEC=libs
PKGDEP="alembic draco embree glew imath jemalloc libglvnd \
        materialx tbb opencolorio openexr openimageio opencolorio\
        opensubdiv openvdb pyside6 python-3 jinja2 pyopengl"
BUILDDEP="help2man boost fmt"
PKGDES="an efficient, scalable system for authoring"

ABTYPE=cmakeninja

CMAKE_AFTER=(
    -DPYSIDE_AVAILABLE=ON
    -DPXR_BUILD_DOCUMENTATION=OFF
    -DPXR_BUILD_EXAMPLES=OFF
    -DPXR_BUILD_IMAGING=ON
    -DPXR_BUILD_MONOLITHIC=ON
    -DPXR_BUILD_TESTS=OFF
    -DPXR_BUILD_TUTORIALS=OFF
    -DPXR_BUILD_USD_IMAGING=ON
    -DPXR_BUILD_USD_TOOLS=ON
    -DPXR_BUILD_USDVIEW=ON
    -DPXR_VALIDATE_GENERATED_CODE=OFF
    -DPXR_ENABLE_METAL_SUPPORT=OFF
    -DPXR_ENABLE_VULKAN_SUPPORT=OFF
    -DPXR_BUILD_ALEMBIC_PLUGIN=ON
    -DPXR_BUILD_DRACO_PLUGIN=ON
    -DPXR_BUILD_EMBREE_PLUGIN=ON
    -DPXR_BUILD_OPENCOLORIO_PLUGIN=ON
    -DPXR_BUILD_OPENIMAGEIO_PLUGIN=ON
    -DPXR_BUILD_PRMAN_PLUGIN=OFF
    -DPXR_ENABLE_MATERIALX_SUPPORT=ON
    -DPXR_ENABLE_OPENVDB_SUPPORT=ON
    -DPXR_ENABLE_HDF5_SUPPORT=ON
    -DPXR_ENABLE_PTEX_SUPPORT=ON
    -DPXR_ENABLE_OSL_SUPPORT=ON
    -DPXR_ENABLE_PYTHON_SUPPORT=ON
)
